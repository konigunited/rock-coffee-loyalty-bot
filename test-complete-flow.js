#!/usr/bin/env node

console.log('ðŸŽ¯ ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ„Ð»Ð¾Ñƒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼');
console.log('='.repeat(70));

// Ð¡Ð¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ„Ð»Ð¾Ñƒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸
function simulateAuthFlow() {
  console.log('\nðŸ“± ÐÐžÐ’Ð«Ð™ Ð¤Ð›ÐžÐ£ ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐÐ¦Ð˜Ð˜ Ð§Ð•Ð Ð•Ð— ÐšÐžÐÐ¢ÐÐšÐ¢');
  console.log('-'.repeat(50));
  
  // Ð¨Ð°Ð³ 1: ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ /start
  console.log('\n1ï¸âƒ£ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ â†’ `/start`');
  console.log('   Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚: Ð½Ðµ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½');
  
  // Ð¨Ð°Ð³ 2: Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾Ñ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°
  console.log('\n2ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð—Ð°Ð¿Ñ€Ð¾Ñ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°');
  console.log('   ðŸ“± "ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ ÑÐ²Ð¾Ð¸Ð¼ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð¼:"');
  console.log('   ðŸ”˜ [ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð¼] (ÐºÐ½Ð¾Ð¿ÐºÐ°)');
  
  // Ð¨Ð°Ð³ 3: ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð´ÐµÐ»Ð¸Ñ‚ÑÑ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð¼
  console.log('\n3ï¸âƒ£ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ â†’ Ð”ÐµÐ»Ð¸Ñ‚ÑÑ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð¼');
  console.log('   ðŸ“ž +79001234567');
  console.log('   ðŸ‘¤ Ð˜Ð²Ð°Ð½ (Ð¸Ð· ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°)');
  
  // Ð¨Ð°Ð³ 4: Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°
  console.log('\n4ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°');
  console.log('   ðŸ†” ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ: Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½');
  console.log('   âž• Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°:');
  console.log('      â€¢ ID: 1');
  console.log('      â€¢ ÐšÐ°Ñ€Ñ‚Ð°: 1 (Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€)');
  console.log('      â€¢ Ð˜Ð¼Ñ: "Ð˜Ð²Ð°Ð½" (Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ðµ Ð¸Ð· ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°)');
  console.log('      â€¢ Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: +79001234567');
  console.log('      â€¢ Ð‘Ð°Ð»Ð°Ð½Ñ: 100 Ð±Ð°Ð»Ð»Ð¾Ð² (Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹)');
  
  // Ð¨Ð°Ð³ 5: Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð¸Ð¼ÐµÐ½Ð¸
  console.log('\n5ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð¸Ð¼ÐµÐ½Ð¸');
  console.log('   ðŸŽ‰ "Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Rock Coffee!"');
  console.log('   ðŸ’³ "Ð’Ð°ÑˆÐ° ÐºÐ°Ñ€Ñ‚Ð°: 1"');
  console.log('   ðŸ’° "ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð±Ð¾Ð½ÑƒÑ: 100 Ð±Ð°Ð»Ð»Ð¾Ð²"');
  console.log('   ðŸ‘¤ "ÐšÐ°Ðº Ðº Ð²Ð°Ð¼ Ð¾Ð±Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ?"');
  console.log('   âœï¸  "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐµ Ð¸Ð¼Ñ (Ð¾Ð´Ð½Ð¾ ÑÐ»Ð¾Ð²Ð¾):"');
  console.log('   ðŸ”˜ [â­ï¸ ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ] (ÐºÐ½Ð¾Ð¿ÐºÐ°)');
  
  // Ð¨Ð°Ð³ 6: ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ Ð¸Ð¼Ñ
  console.log('\n6ï¸âƒ£ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ â†’ Ð’Ð²Ð¾Ð´Ð¸Ñ‚ Ð¸Ð¼Ñ');
  console.log('   âŒ¨ï¸ "ÐÐ»ÐµÐºÑÐµÐ¹"');
  
  // Ð¨Ð°Ð³ 7: Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ
  console.log('\n7ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ');
  console.log('   âœ… Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¾ÑˆÐ»Ð°:');
  console.log('      â€¢ ÐžÐ´Ð½Ð¾ ÑÐ»Ð¾Ð²Ð¾: Ð´Ð°');
  console.log('      â€¢ Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð±ÑƒÐºÐ²Ñ‹: Ð´Ð°');
  console.log('      â€¢ Ð”Ð»Ð¸Ð½Ð° 2-20: Ð´Ð° (7 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)');
  console.log('   ðŸ’¾ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°:');
  console.log('      â€¢ full_name: "ÐÐ»ÐµÐºÑÐµÐ¹"');
  console.log('      â€¢ first_name: "ÐÐ»ÐµÐºÑÐµÐ¹"');
  console.log('      â€¢ profile_completed: true');
  
  // Ð¨Ð°Ð³ 8: Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸
  console.log('\n8ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸');
  console.log('   âœ… "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°!"');
  console.log('   ðŸ‘¤ "ÐÐ»ÐµÐºÑÐµÐ¹"');
  console.log('   ðŸ’³ "ÐšÐ°Ñ€Ñ‚Ð°: 1"');
  console.log('   ðŸ’° "Ð‘Ð°Ð»Ð°Ð½Ñ: 100 Ð±Ð°Ð»Ð»Ð¾Ð²"');
  console.log('   â˜• "Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² ÑÐµÐ¼ÑŒÑŽ Rock Coffee!"');
  
  // Ð¨Ð°Ð³ 9: ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð² Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ
  console.log('\n9ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ (Ñ‡ÐµÑ€ÐµÐ· 2.5 ÑÐµÐº)');
  console.log('   â˜• "Rock Coffee"');
  console.log('   ðŸ‘‹ "ÐŸÑ€Ð¸Ð²ÐµÑ‚, ÐÐ»ÐµÐºÑÐµÐ¹!"');
  console.log('   ðŸ’³ "ÐšÐ°Ñ€Ñ‚Ð°: 1"');
  console.log('   ðŸ’° "Ð‘Ð°Ð»Ð»Ñ‹: 100"');
  console.log('   ðŸ”˜ [ðŸ’³ ÐœÐ¾Ñ ÐºÐ°Ñ€Ñ‚Ð°] [âš™ï¸ ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ]');
  console.log('   ðŸ”˜ [ðŸ“ ÐÐ°ÑˆÐ° ÐºÐ¾Ñ„ÐµÐ¹Ð½Ñ] [ðŸ“± Ð¡Ð¾Ñ†. ÑÐµÑ‚Ð¸]');
  console.log('   ðŸ”˜ [â„¹ï¸ Ðž Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ]');
  
  return {
    success: true,
    client: {
      id: 1,
      card_number: '1',
      full_name: 'ÐÐ»ÐµÐºÑÐµÐ¹',
      first_name: 'ÐÐ»ÐµÐºÑÐµÐ¹',
      phone: '+79001234567',
      balance: 100,
      auth_method: 'phone_contact',
      profile_completed: true
    }
  };
}

// Ð¡Ð¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ²
function simulateAlternativeScenarios() {
  console.log('\nðŸ“‹ ÐÐ›Ð¬Ð¢Ð•Ð ÐÐÐ¢Ð˜Ð’ÐÐ«Ð• Ð¡Ð¦Ð•ÐÐÐ Ð˜Ð˜');
  console.log('-'.repeat(50));
  
  // Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 1: ÐŸÑ€Ð¾Ð¿ÑƒÑÐº Ð¸Ð¼ÐµÐ½Ð¸
  console.log('\nðŸ”„ Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 1: ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°ÐµÑ‚ Ð²Ð²Ð¾Ð´ Ð¸Ð¼ÐµÐ½Ð¸');
  console.log('   5ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ Ð¸Ð¼Ñ');
  console.log('   6ï¸âƒ£ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ â†’ ÐÐ°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ "ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ"');
  console.log('   7ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð—Ð°Ð²ÐµÑ€ÑˆÐ°ÐµÑ‚ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸ÑŽ Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼ Ð¸Ð· ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð°');
  console.log('   âœ… Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: Ð˜Ð¼Ñ "Ð˜Ð²Ð°Ð½", profile_completed: false');
  
  // Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 2: ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð¸Ð¼Ñ
  console.log('\nâŒ Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 2: ÐÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð¸Ð¼Ñ');
  console.log('   6ï¸âƒ£ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ â†’ "Ð˜Ð²Ð°Ð½ ÐŸÐµÑ‚Ñ€Ð¾Ð²" (Ð´Ð²Ð° ÑÐ»Ð¾Ð²Ð°)');
  console.log('   7ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸');
  console.log('   âŒ "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð½Ð¾ ÑÐ»Ð¾Ð²Ð¾"');
  console.log('   ðŸ”„ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¿Ñ€Ð¾Ð±ÑƒÐµÑ‚ ÑÐ½Ð¾Ð²Ð° â†’ "Ð˜Ð²Ð°Ð½"');
  console.log('   âœ… Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð¸Ð¼Ñ');
  
  // Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 3: Ð¡ÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÐºÐ»Ð¸ÐµÐ½Ñ‚
  console.log('\nðŸ”„ Ð¡Ñ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ 3: Ð¡ÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÐºÐ»Ð¸ÐµÐ½Ñ‚');
  console.log('   3ï¸âƒ£ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð´ÐµÐ»Ð¸Ñ‚ÑÑ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð¼');
  console.log('   4ï¸âƒ£ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° â†’ ÐÐ°Ñ…Ð¾Ð´Ð¸Ñ‚ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° Ð¿Ð¾ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ');
  console.log('   âš¡ ÐŸÑ€Ð¾Ð¿ÑƒÑÐº Ð·Ð°Ð¿Ñ€Ð¾ÑÐ° Ð¸Ð¼ÐµÐ½Ð¸');
  console.log('   ðŸ‘‹ Ð¡Ñ€Ð°Ð·Ñƒ "Ð¡ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰ÐµÐ½Ð¸ÐµÐ¼!" + Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ');
  
  return true;
}

// Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ Ð¸Ð¼ÐµÐ½Ð¸
function testNameValidation() {
  console.log('\nðŸ§ª Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð• Ð’ÐÐ›Ð˜Ð”ÐÐ¦Ð˜Ð˜ Ð˜ÐœÐ•ÐÐ˜');
  console.log('-'.repeat(50));
  
  const testCases = [
    { name: 'ÐÐ»ÐµÐºÑÐµÐ¹', valid: true, reason: 'ÐšÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ñ€ÑƒÑÑÐºÐ¾Ðµ Ð¸Ð¼Ñ' },
    { name: 'Alex', valid: true, reason: 'ÐšÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ðµ Ð¸Ð¼Ñ' },
    { name: 'ÐœÐ°Ñ€Ð¸Ñ', valid: true, reason: 'Ð–ÐµÐ½ÑÐºÐ¾Ðµ Ð¸Ð¼Ñ' },
    { name: 'Ð˜Ð²Ð°Ð½ ÐŸÐµÑ‚Ñ€Ð¾Ð²', valid: false, reason: 'Ð”Ð²Ð° ÑÐ»Ð¾Ð²Ð°' },
    { name: 'Alex123', valid: false, reason: 'Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ñ†Ð¸Ñ„Ñ€Ñ‹' },
    { name: 'Ð', valid: false, reason: 'Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ðµ (1 ÑÐ¸Ð¼Ð²Ð¾Ð»)' },
    { name: 'Ð'.repeat(25), valid: false, reason: 'Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð»Ð¸Ð½Ð½Ð¾Ðµ (>20 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²)' },
    { name: 'alex!', valid: false, reason: 'Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ ÑÐ¿ÐµÑ†ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹' },
    { name: '  ÐŸÐµÑ‚Ñ€  ', valid: true, reason: 'Ð¡ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð°Ð¼Ð¸ (Ð¾Ð±Ñ€ÐµÐ·Ð°ÐµÑ‚ÑÑ)' },
    { name: '', valid: false, reason: 'ÐŸÑƒÑÑ‚Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°' }
  ];
  
  testCases.forEach((test, index) => {
    const trimmed = test.name.trim();
    const hasSpaces = trimmed.includes(' ');
    const hasValidChars = /^[Ð-Ð¯Ð°-ÑÐÑ‘A-Za-z]+$/.test(trimmed);
    const hasValidLength = trimmed.length >= 2 && trimmed.length <= 20;
    const isEmpty = trimmed.length === 0;
    
    const actualValid = !isEmpty && !hasSpaces && hasValidChars && hasValidLength;
    const status = actualValid === test.valid ? 'âœ…' : 'âŒ';
    
    console.log(`   ${status} "${test.name}" - ${test.reason}`);
    if (actualValid !== test.valid) {
      console.log(`      ÐžÐ¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ: ${test.valid}, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾: ${actualValid}`);
    }
  });
  
  return true;
}

// Ð—Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ… Ñ‚ÐµÑÑ‚Ð¾Ð²
console.log('\nðŸš€ Ð—ÐÐŸÐ£Ð¡Ðš ÐŸÐžÐ›ÐÐžÐ“Ðž Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð¯');

// 1. ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„Ð»Ð¾Ñƒ
const mainFlowResult = simulateAuthFlow();

// 2. ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸
simulateAlternativeScenarios();

// 3. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸
testNameValidation();

// Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
console.log('\n' + '='.repeat(70));
console.log('ðŸŽ‰ Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢Ð« ÐŸÐžÐ›ÐÐžÐ“Ðž Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð¯');
console.log('='.repeat(70));

console.log('\nâœ… ÐŸÐ ÐžÐ¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐÐ«Ð• ÐšÐžÐœÐŸÐžÐÐ•ÐÐ¢Ð«:');
console.log('   ðŸ“± ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚');
console.log('   ðŸ†• Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð° Ñ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²Ð¾Ð¹ ÐºÐ°Ñ€Ñ‚Ð¾Ð¹');
console.log('   ðŸ‘¤ Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð¾Ð´Ð½Ð¾ÑÐ»Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ð¸Ð¼ÐµÐ½Ð¸');
console.log('   âœï¸ Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ Ð¸Ð¼ÐµÐ½Ð¸ (10 Ñ‚ÐµÑÑ‚-ÐºÐµÐ¹ÑÐ¾Ð²)');
console.log('   ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð² Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…');
console.log('   ðŸ  ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð² Ð³Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ');

console.log('\nðŸ”„ Ð¤Ð›ÐžÐ£ ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐÐ¦Ð˜Ð˜:');
console.log('   /start â†’ ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚ â†’ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ â†’ Ð˜Ð¼Ñ â†’ Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ â†’ Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ â†’ ÐœÐµÐ½ÑŽ');

console.log('\nðŸ’¡ ÐšÐ›Ð®Ð§Ð•Ð’Ð«Ð• ÐžÐ¡ÐžÐ‘Ð•ÐÐÐžÐ¡Ð¢Ð˜:');
console.log('   â€¢ ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð°: 2 Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ (ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚ + Ð¸Ð¼Ñ)');
console.log('   â€¢ ÐŸÐ¾Ñ€ÑÐ´ÐºÐ¾Ð²Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹: 1, 2, 3, 4...');
console.log('   â€¢ Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ: Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð½Ð¾ ÑÐ»Ð¾Ð²Ð¾, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÑƒÐºÐ²Ñ‹');
console.log('   â€¢ ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ: Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð²Ð²Ð¾Ð´ Ð¸Ð¼ÐµÐ½Ð¸');
console.log('   â€¢ ÐžÐ±Ñ€Ð°Ñ‚Ð½Ð°Ñ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ñ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¼Ð¸ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°Ð¼Ð¸');

console.log('\nðŸ“Š Ð’Ð Ð•ÐœÐ¯ ÐÐ’Ð¢ÐžÐ Ð˜Ð—ÐÐ¦Ð˜Ð˜:');
console.log('   âš¡ ÐÐ¾Ð²Ñ‹Ð¹ ÐºÐ»Ð¸ÐµÐ½Ñ‚: ~30 ÑÐµÐºÑƒÐ½Ð´');
console.log('   ðŸ”„ Ð¡ÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹: ~5 ÑÐµÐºÑƒÐ½Ð´');
console.log('   ðŸ“± Ð‘ÐµÐ· Ð¸Ð¼ÐµÐ½Ð¸ (Ð¿Ñ€Ð¾Ð¿ÑƒÑÐº): ~15 ÑÐµÐºÑƒÐ½Ð´');

console.log('\nðŸš€ Ð¡Ð˜Ð¡Ð¢Ð•ÐœÐ ÐŸÐžÐ›ÐÐžÐ¡Ð¢Ð¬Ð® Ð“ÐžÐ¢ÐžÐ’Ð Ðš Ð’ÐÐ•Ð”Ð Ð•ÐÐ˜Ð®!');

if (mainFlowResult.success) {
  console.log('\nðŸ’¾ ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°:');
  console.log(JSON.stringify(mainFlowResult.client, null, 2));
}

console.log('\n' + '='.repeat(70));
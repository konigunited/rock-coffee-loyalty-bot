# üéØ –ù–ê–ß–ù–ò–¢–ï –ó–î–ï–°–¨ - Rock Coffee Bot

## ü§ñ –í–∞—à –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É!

**–¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:** `8369634150:AAHAlkUetDEm6lNSsyFZ1cghLXtLQV72Vcs`

---

## ‚ö° –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç—å

### ü™ü –î–ª—è Windows:
```cmd
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É:
scripts\setup.bat

# 3. –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ:
npm run dev
```

### üêß –î–ª—è Linux/Mac:  
```bash
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É:
chmod +x scripts/setup.sh
./scripts/setup.sh

# 3. –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ:
npm run dev
```

---

## üìã –ß—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ:

### ‚úÖ –£–∂–µ –µ—Å—Ç—å:
- [x] –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞  
- [x] –í–µ—Å—å –∫–æ–¥ —Å–∏—Å—Ç–µ–º—ã
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- [x] –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### ‚ùó –ù—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
- [ ] **Node.js 16+** ([—Å–∫–∞—á–∞—Ç—å](https://nodejs.org/))  
- [ ] **PostgreSQL 12+** ([—Å–∫–∞—á–∞—Ç—å](https://www.postgresql.org/download/))

---

## üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω—ã–π PostgreSQL
```sql
-- –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL:
CREATE DATABASE rock_coffee_bot;
CREATE USER rock_coffee_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE rock_coffee_bot TO rock_coffee_user;
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker (–µ—Å–ª–∏ PostgreSQL –Ω–µ —Ö–æ—Ç–∏—Ç–µ —Å—Ç–∞–≤–∏—Ç—å)
```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL –≤ Docker:
docker-compose up -d postgres

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã:
docker-compose up -d
```

---

## üë§ –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –¥–æ–±–∞–≤—å—Ç–µ —Å–µ–±—è –∫–∞–∫ –∞–¥–º–∏–Ω–∞:

```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ:
psql -U postgres -d rock_coffee_bot

-- –î–æ–±–∞–≤—å—Ç–µ —Å–µ–±—è (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ):
INSERT INTO users (telegram_id, username, full_name, role, is_active) 
VALUES (12345678, 'your_username', '–í–∞—à–µ –ò–º—è', 'admin', true);
```

**‚ùì –ù–µ –∑–Ω–∞–µ—Ç–µ —Å–≤–æ–π Telegram ID?** 
- –ù–∞–π–¥–∏—Ç–µ @userinfobot –≤ Telegram
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–º—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ  
- –û–Ω –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à ID

---

## üöÄ –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
npm run dev

# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
# üöÄ Rock Coffee Loyalty Bot started on port 3000
# üì± Bot is polling for updates...
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`  
3. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å –º–µ–Ω—é

---

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω?** `node --version`
2. **PostgreSQL –∑–∞–ø—É—â–µ–Ω?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª—É–∂–±—ã Windows/systemctl
3. **–ü–∞—Ä–æ–ª—å –≤ .env –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞?** `psql -U postgres -l`

### üìñ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [`QUICKSTART.md`](QUICKSTART.md)
- **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** [`README.md`](README.md)

### üêõ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:
- `"Database connection failed"` ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL –∏ –ø–∞—Ä–æ–ª—å –≤ .env
- `"Bot not responding"` ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- `"npm install failed"` ‚Üí –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞–ª–∏—Ç—å node_modules –∏ npm install –∑–∞–Ω–æ–≤–æ

---

## üéâ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

–í–∞—à Rock Coffee Bot –±—É–¥–µ—Ç –∏–º–µ—Ç—å:

### üë• 4 —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **Admin** (–≤—ã) - –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–∏—Å—Ç–µ–º—ã
- **Manager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º  
- **Barista** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–ª–ª–∞–º–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º)
- **Client** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

### üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è/—Å–ø–∏—Å–∞–Ω–∏—è –±–∞–ª–ª–æ–≤  
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- ‚úÖ –ú–∞—Å—Å–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ñ—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

**üöÄ –ì–æ—Ç–æ–≤—ã –∑–∞–ø—É—Å–∫–∞—Ç—å? –ù–∞—á–Ω–∏—Ç–µ —Å –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ! ‚òùÔ∏è**